/*! <anderpang@foxmail.com> validator 1.0.0 */!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.validator=e()}(this,function(){"use strict";return{VERSION:"1.0.0",handleEvent:function(t){var e=t.type;this[e]&&this[e](t)},change:function(t){this._change(t.target,!1,!1)||t.stopImmediatePropagation()},submit:function(t){for(var e=t.target.elements,i=0,s=e.length;i<s;i++)if(!this._change(e[i],!0,!1))return t.preventDefault(),t.stopImmediatePropagation(),!1},_change:function(t,e,i){return this._isH5||this.setValidity(t),this.checkValidity(t,e,i),t.validity.valid},DOMNodeInserted:function(t){var e,i,s=t.target;if(1===s.nodeType)if("FORM"===s.tagName)this.bind(s);else for(i=(e=s.querySelectorAll("form")).length;i--&&this.bind(e[i]););},setValidity:function(t){var e=t.validity||(t.validity={}),i=t.type,s=t.value,a=t.hasAttribute("required");if(a)switch(i){case"checkbox":e.valueMissing=!t.checked;break;case"radio":e.valueMissing=!t.checked&&!t.form.querySelector("input[name='"+t.name+"']:checked");break;default:e.valueMissing=!s}if("checkbox"!==i&&"radio"!==i&&"select-one"!==i&&"select-multipl"!==i&&s)switch(a=t.getAttribute("pattern"),e.patternMismatch=!!a&&!new RegExp("^"+a+"$").test(s),i){case"number":e.typeMismatch=isNaN(s);break;case"tel":e.typeMismatch=isNaN(s)||!/^\d+$/.test(s);break;case"email":e.typeMismatch=!/^\w+(?:\.\w+)*@\w+(?:\.\w+)+$/.test(s);break;default:e.typeMismatch=!1}else e.patternMismatch=e.typeMismatch=e.customError=!1;e.valid=!(e.valueMissing||e.patternMismatch||e.typeMismatch||e.customError)},checkValidity:function(t,e,i){var s=this.getSpan(t),a=t.validity;a.valid?s.style.display="none":a.customError?i&&(this.setMsg(t,a,s),this.focus&&e&&t.focus()):(this.setMsg(t,a,s),this.focus&&e&&t.focus())},message:{required:"请填写该项",selectRequired:"请选择该项",pattern:"信息填写错误",type:"信息填写有误"},className:"valid-msg",setMsg:function(t,e,i){var s;s=e.valueMissing?t.getAttribute("data-required")||this.message["SELECT"===t.tagName?"selectRequired":"required"]:e.patternMismatch?t.getAttribute("data-pattern")||this.message.pattern:e.typeMismatch?t.getAttribute("data-type")||this.message.type:t.validationMessage||"","function"==typeof i?i(s,t):(i.innerHTML=s,i.style.display="")},getSpan:function(t){var e=t._valid_msg;return e||((e=document.createElement("span")).className=this.className,t._valid_msg=e,t.parentNode.appendChild(e)),e},bind:function(t){return t.noValidate=!0,t.addEventListener("change",this,!1),t.addEventListener("submit",this,!1),!0},init:function(){var i,t,e,s;if(!this._isReady){this._isReady=!0,(s=document).body.addEventListener("DOMNodeInserted",this,!1),e=(t=s.forms).length,this._isH5="noValidate"in(e?t[0]:s.createElement("form")),(i=this)._isH5||(HTMLInputElement.prototype.setCustomValidity=function(t){var e=this.validity;e||(i.setValidity(this),e=this.validity),this.validationMessage=t,e.customError=!!t,e.valid=!(e.valueMissing||e.patternMismatch||e.typeMismatch||e.customError)}),HTMLInputElement.prototype.setMessage=function(t,e){this.setCustomValidity(t),i.checkValidity(this,e,!0)};for(;e--&&this.bind(t[e]););}return this},use:function(t){var e,i=(t=t||{}).message;if(i)for(var s in e=this.message,i)e[s]=i[s];for(var a in t)"message"!==a&&(this[a]=t[a]);return"function"==typeof this.callback&&(this.checkValidity=function(t,e,i){var s=this.callback,a=t.validity;a.valid?s(null,t):a.customError?i&&(this.setMsg(t,a,s),this.focus&&e&&t.focus()):(this.setMsg(t,a,s),this.focus&&e&&t.focus())}),this}}});
